# ADC示例工程说明

> 本工程展示了ADC测量的使用方法。
>
> 演示ADC读取方法，测量VBAT电源电压方法

---

## 适用平台

> 本工程适用以下芯片类型：
> 1. AC79系列芯片：AC790N、AC791N

> 杰理芯片和评估板的更多信息可在以下地址获取：[链接](https://shop321455197.taobao.com/?spm=a230r.7195193.1997079397.2.2a6d391d3n5udo)

## 工程配置说明

> 在SDK选择[demo_hello](../../../../apps/demo_hello/board)或者其他demo的主工程文件或者主工程Makefile, 然后添加本事例工程代码。
>
> 在board.c文件中的void board_init()函数中添加adc_init();
>
> 添加adc_api.c文件，如使用的板级是wl80，则可在文件cpu/wl80/key目录中找到；如使用的板级是wl82，则可在文件cpu/wl82/key目录找到。

---



### 操作说明：

> 1. 编译工程，烧录镜像，复位启动

> JIELI SDK的编译、烧写等操作方式的说明可在以下文档获取：[文档](../../../../doc/stuff/usb updater.pdf)

### 代码流程

> 1. test()入口：
>     
>         A）adc初始化，同时测出vbg和vbat电压
>                     
>         B）配置测量引脚
>                     
>         C）添加测量通道
>                     
>         D)  延时
>                     
>         F）读PA7引脚adc值（转化为电压公式为所得adc值*3.3/1024）
---

## 常见问题

> * 添加测量通道之后,需延时操作。设定了每隔2ms定时中断读取adc值，需延时超过2ms读取adc值
> * 10BitADC(A/D转换器)，其时钟最大不可超过2MHz。
> * 电压测量范围是0~3.3V，测量精度为0~0.0032V。
> * 使用adc_get_voltage（）函数时，若得出数据不对，可能存在adc未调校可能。

## 参考文档

> * N/A

